<main class="pt-2 max-w-screen-xl mx-auto px-2 mb-6">
  <!-- Breadcrumb -->
  <div class="w-full flex bg-white py-3 px-5 items-center rounded shadow mb-3">
    <p-breadcrumb [model]="breaditems" [home]="home" />
  </div>

  <!-- Flow Canvas -->
  <div class="flex h-[75vh] bg-gray-100 rounded shadow overflow-hidden">
    <!-- Palet kiri -->
    <div class="w-64 bg-white border-r p-4">
      <h3 class="font-semibold mb-3 text-gray-700">Node Palette</h3>
      <div
        *ngFor="let node of palette"
        class="p-2 mb-2 bg-blue-100 border border-blue-300 rounded cursor-move hover:bg-blue-200 text-center select-none"
        draggable="true"
        (dragstart)="onDragStart($event, node)"
      >
        {{ node.label }}
      </div>
    </div>

    <!-- Kanvas kanan -->
    <div
      class="flex-1 relative bg-gray-50 overflow-hidden canvas-area"
      (drop)="onDrop($event)"
      (dragover)="onDragOver($event)"
    >
      <!-- Node hasil drop -->
      <div
        *ngFor="let n of nodes"
        class="absolute p-3 bg-green-200 border border-green-400 rounded shadow-md cursor-move select-none"
        [style.left.px]="n.x"
        [style.top.px]="n.y"
        (mousedown)="startMove($event, n)"
        pTooltip="{{ n.type }}"
        tooltipPosition="top"
      >
        {{ n.label }}
      </div>
    </div>
  </div>
</main>
